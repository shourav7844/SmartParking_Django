{% extends 'baseMain.html' %}
{% block content %}
{% load static %}
{% include 'messages.html' %}
<!-- {% if messages %}
{% for message in messages %}
<strong {% if message.tags %} class="{{message.tags}}" {% endif %}>{{message}}</strong>
{% endfor %}
{% endif %} -->
            <!-- Main Content -->
            <div id="content">

                <!-- Topbar -->
                <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

                    <!-- Sidebar Toggle (Topbar) -->
                    <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                        <i class="fa fa-bars"></i>
                    </button>

                    <!-- Topbar Navbar -->
                    <ul class="navbar-nav ml-auto">
                        
                        <a href="{% url 'logoutAdmin' %}"><i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>logout/</a><h5>{{name}}</h5>
                    </ul>
                </nav>
                <!-- End of Topbar -->

                <!-- Begin Page Content -->
                <div class="container-fluid">

                    <!-- Page Heading -->
                    <div class="d-sm-flex align-items-center justify-content-between mb-4">
                        <h1 class="h3 mb-0 text-gray-800">Dashboard</h1>
                    </div>

                    <!-- Content Row -->
                    <div class="row">

                        <!-- Entry Capture Example -->
                        <div class="col-xl-6 col-md-6 mb-4">
                            <div class="card border-left-primary shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                                Entry Capture</div>
                                                <form action= "{% url 'entryAuthentication' %}" method="POST"> 
                                                    {% csrf_token %}
                                                    <button class="btn btn-primary" type="submit"><div class="h5 mb-0 font-weight-bold text-white-800">Scan</div></button>
                                                </form> 
                                            </div>
                                        <div class="col-auto">
                                            <!-- <i class="fas fa-calendar fa-2x text-gray-300"></i> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Exit Capture Example -->
                        <div class="col-xl-6 col-md-6 mb-4 ">
                            <div class="card border-left-success shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                                Exit Capture</div>
                                                <form action= "{% url 'exitAuthentication' %}" method="POST"> 
                                                    {% csrf_token %}
                                                    <button class="btn btn-success" type="submit"><div class="h5 mb-0 font-weight-bold text-white-800">Scan</div></button>
                                                </form>
                                        </div>
                                        <div class="col-auto">
                                            <!-- <i class="fas fa-dollar-sign fa-2x text-gray-300"></i> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="row">

                        <!-- Entry Capture Example -->
                        <div class="col-xl-6 col-md-6 mb-4">
                            <div class="card border-left-primary shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                                Manual Enty</div>
                                                    {% csrf_token %}
                                                    <div class="h5 btn btn-primary mb-0 font-weight-bold text-white-800"><a class="text-white" href="{% url 'ManualEntry' %}">Input</a></div>
                                            </div>
                                        <div class="col-auto">
                                            <!-- <i class="fas fa-calendar fa-2x text-gray-300"></i> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Exit Capture Example -->
                        <div class="col-xl-6 col-md-6 mb-4 ">
                            <div class="card border-left-success shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                                Manual Exit
                                            </div>
                                                    {% csrf_token %}
                                                    <div class="h5 btn btn-success mb-0 font-weight-bold text-success-800"><a class="text-white" href="{% url 'ManualExit' %}">Input</a></div>

                                        </div>
                                        <div class="col-auto">
                                            <!-- <i class="fas fa-dollar-sign fa-2x text-gray-300"></i> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>



                </div>
            </div>
        </div>
    </div>


<script>
    let status;
    //Slot_1 free or occupied
        var dataSlot1 = JSON.parse("{{slot1|escapejs}}");
        if(dataSlot1 == false){
            status = "Free";
        } else if(dataSlot1 == true){
            status = "occupied";
        } else{
            status = "unknown"
        }
        // document.getElementById("Slot1").innerHTML = status;
        if(status == "occupied"){
            document.getElementById("myImage1").src="../static/img/redCarA.jpg";
        }
        else{
            document.getElementById("myImage1").src="../static/img/white.jpg";
        }
    
        
    
    
    //Slot_2 free or occupied
    var dataSlot2 = JSON.parse("{{slot2|escapejs}}");
        if(dataSlot2 == false){
            status = "Free";
        } else if(dataSlot2 == true){
            status = "occupied";
        } else{
            status = "unknown"
        }
        // document.getElementById("myImage2").innerHTML = status;
        if(status == "occupied"){
            document.getElementById("myImage2").src="../static/img/redCarA.jpg";
        }
        else{
            document.getElementById("myImage2").src="../static/img/white.jpg";
        }
    
    //Slot_3 free or occupied
    var dataSlot3 = JSON.parse("{{slot3|escapejs}}");
        if(dataSlot3 == false){
            status = "Free";
        } else if(dataSlot3 == true){
            status = "occupied";
        } else{
            status = "unknown"
        }
        // ocument.getElementById("Slot3").innerHTML = status;
        if(status == "occupied"){
            document.getElementById("myImage3").src="../static/img/redCarA.jpg";
        }
        else{
            document.getElementById("myImage3").src="../static/img/white.jpg";
        }
    
    
    //Slot_4 free or occupied
    var dataSlot4 = JSON.parse("{{slot4|escapejs}}");
        if(dataSlot4 == false){
            status = "Free";
        } else if(dataSlot4 == true){
            status = "occupied";
        } else{
            status = "unknown"
        }
        // document.getElementById("Slot4").innerHTML = status;
        if(status == "occupied"){
            document.getElementById("myImage4").src="../static/img/redCarA.jpg";
        }
        else{
            document.getElementById("myImage4").src="../static/img/white.jpg";
        }

    </script>


{% endblock %}